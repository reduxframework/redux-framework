!function(s){"use strict";var l="";redux.field_objects=redux.field_objects||{},redux.field_objects.sortable=redux.field_objects.sortable||{},redux.field_objects.sortable.init=function(e){e=s.redux.getSelector(e,"sortable"),s(e).each(function(){var e=s(this),i=e;e.hasClass("redux-field-container")||(i=e.parents(".redux-field-container:first")),i.is(":hidden")||i.hasClass("redux-field-init")&&(i.removeClass("redux-field-init"),e.find(".redux-sortable").sortable({handle:".drag",placeholder:"placeholder",opacity:.7,scroll:!1,out:function(e,i){i.helper&&(l=0<i.offset.top?"down":"up",redux.field_objects.sortable.scrolling(s(this).parents(".redux-field-container:first")))},over:function(){l=""},deactivate:function(){l=""},update:function(){redux_change(s(this))}}),e.find(".redux-sortable i.visibility").on("click",function(){var e=s(this).parents("li"),i=e.hasClass("invisible")?(e.removeClass("invisible"),1):(e.addClass("invisible"),"");e.find('input[type="hidden"]').val(i)}))})},redux.field_objects.sortable.scrolling=function(e){var i;void 0!==e&&(i=e.find(".redux-sorter"),"up"===l?(i.scrollTop(i.scrollTop()-20),setTimeout(redux.field_objects.sortable.scrolling,50)):"down"===l&&(i.scrollTop(i.scrollTop()+20),setTimeout(redux.field_objects.sortable.scrolling,50)))}}(jQuery);